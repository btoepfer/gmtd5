- name_abbreviated = "#{task.name[0..35]}#{task.name.length>35 ? '...' : ''}"
- content_abbreviated = "#{task.content[0..200]}#{task.content.length>200 ? '...' : ''}"

- status_icon = (task.status == 2 ? "fa-check-square-o" : (task.status == 1 ? "fa-pencil-square-o" : "fa-square-o"))

.task(id="task-#{task.id}")
  %h5
    %strong
      %i(class="fa #{status_icon}" id="task-status-#{task.id}")
    = name_abbreviated
    .task-menu
      %a(class="toggle-nav fa fa-bars" href="javascript:$('#dialog').dialog('open');")
      
  %div
  
    .due-date
      %a(href="#")
        %i(class="fa fa-calendar")
        = l task.due_date
    %small    
      = content_abbreviated
    
